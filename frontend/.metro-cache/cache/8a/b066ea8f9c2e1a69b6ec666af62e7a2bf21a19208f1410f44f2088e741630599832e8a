{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"socket.io-client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":46,"index":46}}],"key":"LVgCyxgUdze/lYG0kA6DdCAztfM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _socketIoClient = require(_dependencyMap[1], \"socket.io-client\");\n  const WS_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://your-backend-url.com';\n  class WebSocketService {\n    socket = null;\n    isConnected = false;\n    listeners = new Map();\n    connect() {\n      if (this.socket && this.isConnected) {\n        console.log('ðŸ”Œ WebSocket already connected');\n        return;\n      }\n      console.log('ðŸ”Œ Connecting to WebSocket...');\n      this.socket = (0, _socketIoClient.io)(WS_URL, {\n        transports: ['websocket'],\n        reconnection: true,\n        reconnectionDelay: 1000,\n        reconnectionAttempts: 5\n      });\n      this.socket.on('connect', () => {\n        console.log('âœ… WebSocket Connected');\n        this.isConnected = true;\n      });\n      this.socket.on('disconnect', () => {\n        console.log('âŒ WebSocket Disconnected');\n        this.isConnected = false;\n      });\n      this.socket.on('error', error => {\n        console.error('âŒ WebSocket Error:', error);\n      });\n\n      // Listen for LTP updates\n      this.socket.on('ltp_update', data => {\n        this.emit('ltp_update', data);\n      });\n\n      // Listen for scanner alerts\n      this.socket.on('scanner_alert', data => {\n        this.emit('scanner_alert', data);\n      });\n    }\n    disconnect() {\n      if (this.socket) {\n        this.socket.disconnect();\n        this.socket = null;\n        this.isConnected = false;\n        console.log('ðŸ”Œ WebSocket Disconnected');\n      }\n    }\n    subscribe(event, callback) {\n      if (!this.listeners.has(event)) {\n        this.listeners.set(event, new Set());\n      }\n      this.listeners.get(event)?.add(callback);\n    }\n    unsubscribe(event, callback) {\n      this.listeners.get(event)?.delete(callback);\n    }\n    emit(event, data) {\n      const callbacks = this.listeners.get(event);\n      if (callbacks) {\n        callbacks.forEach(callback => callback(data));\n      }\n    }\n\n    // Subscribe to symbol LTP\n    subscribeToSymbol(symbol) {\n      if (this.socket && this.isConnected) {\n        this.socket.emit('subscribe', {\n          symbol\n        });\n      }\n    }\n\n    // Unsubscribe from symbol\n    unsubscribeFromSymbol(symbol) {\n      if (this.socket && this.isConnected) {\n        this.socket.emit('unsubscribe', {\n          symbol\n        });\n      }\n    }\n    getConnectionStatus() {\n      return this.isConnected;\n    }\n  }\n  var _default = new WebSocketService();\n});","lineCount":100,"map":[[7,2,96,0,"Object"],[7,8,96,0],[7,9,96,0,"defineProperty"],[7,23,96,0],[7,24,96,0,"exports"],[7,31,96,0],[8,4,96,0,"enumerable"],[8,14,96,0],[9,4,96,0,"get"],[9,7,96,0],[9,18,96,0,"get"],[9,19,96,0],[10,6,96,0],[10,13,96,0,"_default"],[10,21,96,0],[11,4,96,0],[12,2,96,0],[13,2,96,38],[13,6,96,38,"_expoVirtualEnv"],[13,21,96,38],[13,24,96,38,"require"],[13,31,96,38],[13,32,96,38,"_dependencyMap"],[13,46,96,38],[14,2,1,0],[14,6,1,0,"_socketIoClient"],[14,21,1,0],[14,24,1,0,"require"],[14,31,1,0],[14,32,1,0,"_dependencyMap"],[14,46,1,0],[15,2,3,0],[15,8,3,6,"WS_URL"],[15,14,3,12],[15,17,3,15,"_expoVirtualEnv"],[15,32,3,15],[15,33,3,15,"env"],[15,36,3,15],[15,37,3,15,"EXPO_PUBLIC_BACKEND_URL"],[15,60,3,15],[15,64,3,54],[15,94,3,84],[16,2,5,0],[16,8,5,6,"WebSocketService"],[16,24,5,22],[16,25,5,23],[17,4,6,10,"socket"],[17,10,6,16],[17,13,6,34],[17,17,6,38],[18,4,7,10,"isConnected"],[18,15,7,21],[18,18,7,33],[18,23,7,38],[19,4,8,10,"listeners"],[19,13,8,19],[19,16,8,61],[19,20,8,65,"Map"],[19,23,8,68],[19,24,8,69],[19,25,8,70],[20,4,10,2,"connect"],[20,11,10,9,"connect"],[20,12,10,9],[20,14,10,12],[21,6,11,4],[21,10,11,8],[21,14,11,12],[21,15,11,13,"socket"],[21,21,11,19],[21,25,11,23],[21,29,11,27],[21,30,11,28,"isConnected"],[21,41,11,39],[21,43,11,41],[22,8,12,6,"console"],[22,15,12,13],[22,16,12,14,"log"],[22,19,12,17],[22,20,12,18],[22,52,12,50],[22,53,12,51],[23,8,13,6],[24,6,14,4],[25,6,16,4,"console"],[25,13,16,11],[25,14,16,12,"log"],[25,17,16,15],[25,18,16,16],[25,49,16,47],[25,50,16,48],[26,6,18,4],[26,10,18,8],[26,11,18,9,"socket"],[26,17,18,15],[26,20,18,18],[26,24,18,18,"io"],[26,39,18,20],[26,40,18,20,"io"],[26,42,18,20],[26,44,18,21,"WS_URL"],[26,50,18,27],[26,52,18,29],[27,8,19,6,"transports"],[27,18,19,16],[27,20,19,18],[27,21,19,19],[27,32,19,30],[27,33,19,31],[28,8,20,6,"reconnection"],[28,20,20,18],[28,22,20,20],[28,26,20,24],[29,8,21,6,"reconnectionDelay"],[29,25,21,23],[29,27,21,25],[29,31,21,29],[30,8,22,6,"reconnectionAttempts"],[30,28,22,26],[30,30,22,28],[31,6,23,4],[31,7,23,5],[31,8,23,6],[32,6,25,4],[32,10,25,8],[32,11,25,9,"socket"],[32,17,25,15],[32,18,25,16,"on"],[32,20,25,18],[32,21,25,19],[32,30,25,28],[32,32,25,30],[32,38,25,36],[33,8,26,6,"console"],[33,15,26,13],[33,16,26,14,"log"],[33,19,26,17],[33,20,26,18],[33,43,26,41],[33,44,26,42],[34,8,27,6],[34,12,27,10],[34,13,27,11,"isConnected"],[34,24,27,22],[34,27,27,25],[34,31,27,29],[35,6,28,4],[35,7,28,5],[35,8,28,6],[36,6,30,4],[36,10,30,8],[36,11,30,9,"socket"],[36,17,30,15],[36,18,30,16,"on"],[36,20,30,18],[36,21,30,19],[36,33,30,31],[36,35,30,33],[36,41,30,39],[37,8,31,6,"console"],[37,15,31,13],[37,16,31,14,"log"],[37,19,31,17],[37,20,31,18],[37,46,31,44],[37,47,31,45],[38,8,32,6],[38,12,32,10],[38,13,32,11,"isConnected"],[38,24,32,22],[38,27,32,25],[38,32,32,30],[39,6,33,4],[39,7,33,5],[39,8,33,6],[40,6,35,4],[40,10,35,8],[40,11,35,9,"socket"],[40,17,35,15],[40,18,35,16,"on"],[40,20,35,18],[40,21,35,19],[40,28,35,26],[40,30,35,29,"error"],[40,35,35,34],[40,39,35,39],[41,8,36,6,"console"],[41,15,36,13],[41,16,36,14,"error"],[41,21,36,19],[41,22,36,20],[41,42,36,40],[41,44,36,42,"error"],[41,49,36,47],[41,50,36,48],[42,6,37,4],[42,7,37,5],[42,8,37,6],[44,6,39,4],[45,6,40,4],[45,10,40,8],[45,11,40,9,"socket"],[45,17,40,15],[45,18,40,16,"on"],[45,20,40,18],[45,21,40,19],[45,33,40,31],[45,35,40,34,"data"],[45,39,40,38],[45,43,40,43],[46,8,41,6],[46,12,41,10],[46,13,41,11,"emit"],[46,17,41,15],[46,18,41,16],[46,30,41,28],[46,32,41,30,"data"],[46,36,41,34],[46,37,41,35],[47,6,42,4],[47,7,42,5],[47,8,42,6],[49,6,44,4],[50,6,45,4],[50,10,45,8],[50,11,45,9,"socket"],[50,17,45,15],[50,18,45,16,"on"],[50,20,45,18],[50,21,45,19],[50,36,45,34],[50,38,45,37,"data"],[50,42,45,41],[50,46,45,46],[51,8,46,6],[51,12,46,10],[51,13,46,11,"emit"],[51,17,46,15],[51,18,46,16],[51,33,46,31],[51,35,46,33,"data"],[51,39,46,37],[51,40,46,38],[52,6,47,4],[52,7,47,5],[52,8,47,6],[53,4,48,2],[54,4,50,2,"disconnect"],[54,14,50,12,"disconnect"],[54,15,50,12],[54,17,50,15],[55,6,51,4],[55,10,51,8],[55,14,51,12],[55,15,51,13,"socket"],[55,21,51,19],[55,23,51,21],[56,8,52,6],[56,12,52,10],[56,13,52,11,"socket"],[56,19,52,17],[56,20,52,18,"disconnect"],[56,30,52,28],[56,31,52,29],[56,32,52,30],[57,8,53,6],[57,12,53,10],[57,13,53,11,"socket"],[57,19,53,17],[57,22,53,20],[57,26,53,24],[58,8,54,6],[58,12,54,10],[58,13,54,11,"isConnected"],[58,24,54,22],[58,27,54,25],[58,32,54,30],[59,8,55,6,"console"],[59,15,55,13],[59,16,55,14,"log"],[59,19,55,17],[59,20,55,18],[59,47,55,45],[59,48,55,46],[60,6,56,4],[61,4,57,2],[62,4,59,2,"subscribe"],[62,13,59,11,"subscribe"],[62,14,59,12,"event"],[62,19,59,25],[62,21,59,27,"callback"],[62,29,59,56],[62,31,59,58],[63,6,60,4],[63,10,60,8],[63,11,60,9],[63,15,60,13],[63,16,60,14,"listeners"],[63,25,60,23],[63,26,60,24,"has"],[63,29,60,27],[63,30,60,28,"event"],[63,35,60,33],[63,36,60,34],[63,38,60,36],[64,8,61,6],[64,12,61,10],[64,13,61,11,"listeners"],[64,22,61,20],[64,23,61,21,"set"],[64,26,61,24],[64,27,61,25,"event"],[64,32,61,30],[64,34,61,32],[64,38,61,36,"Set"],[64,41,61,39],[64,42,61,40],[64,43,61,41],[64,44,61,42],[65,6,62,4],[66,6,63,4],[66,10,63,8],[66,11,63,9,"listeners"],[66,20,63,18],[66,21,63,19,"get"],[66,24,63,22],[66,25,63,23,"event"],[66,30,63,28],[66,31,63,29],[66,33,63,31,"add"],[66,36,63,34],[66,37,63,35,"callback"],[66,45,63,43],[66,46,63,44],[67,4,64,2],[68,4,66,2,"unsubscribe"],[68,15,66,13,"unsubscribe"],[68,16,66,14,"event"],[68,21,66,27],[68,23,66,29,"callback"],[68,31,66,58],[68,33,66,60],[69,6,67,4],[69,10,67,8],[69,11,67,9,"listeners"],[69,20,67,18],[69,21,67,19,"get"],[69,24,67,22],[69,25,67,23,"event"],[69,30,67,28],[69,31,67,29],[69,33,67,31,"delete"],[69,39,67,37],[69,40,67,38,"callback"],[69,48,67,46],[69,49,67,47],[70,4,68,2],[71,4,70,10,"emit"],[71,8,70,14,"emit"],[71,9,70,15,"event"],[71,14,70,28],[71,16,70,30,"data"],[71,20,70,39],[71,22,70,41],[72,6,71,4],[72,12,71,10,"callbacks"],[72,21,71,19],[72,24,71,22],[72,28,71,26],[72,29,71,27,"listeners"],[72,38,71,36],[72,39,71,37,"get"],[72,42,71,40],[72,43,71,41,"event"],[72,48,71,46],[72,49,71,47],[73,6,72,4],[73,10,72,8,"callbacks"],[73,19,72,17],[73,21,72,19],[74,8,73,6,"callbacks"],[74,17,73,15],[74,18,73,16,"forEach"],[74,25,73,23],[74,26,73,25,"callback"],[74,34,73,33],[74,38,73,38,"callback"],[74,46,73,46],[74,47,73,47,"data"],[74,51,73,51],[74,52,73,52],[74,53,73,53],[75,6,74,4],[76,4,75,2],[78,4,77,2],[79,4,78,2,"subscribeToSymbol"],[79,21,78,19,"subscribeToSymbol"],[79,22,78,20,"symbol"],[79,28,78,34],[79,30,78,36],[80,6,79,4],[80,10,79,8],[80,14,79,12],[80,15,79,13,"socket"],[80,21,79,19],[80,25,79,23],[80,29,79,27],[80,30,79,28,"isConnected"],[80,41,79,39],[80,43,79,41],[81,8,80,6],[81,12,80,10],[81,13,80,11,"socket"],[81,19,80,17],[81,20,80,18,"emit"],[81,24,80,22],[81,25,80,23],[81,36,80,34],[81,38,80,36],[82,10,80,38,"symbol"],[83,8,80,45],[83,9,80,46],[83,10,80,47],[84,6,81,4],[85,4,82,2],[87,4,84,2],[88,4,85,2,"unsubscribeFromSymbol"],[88,25,85,23,"unsubscribeFromSymbol"],[88,26,85,24,"symbol"],[88,32,85,38],[88,34,85,40],[89,6,86,4],[89,10,86,8],[89,14,86,12],[89,15,86,13,"socket"],[89,21,86,19],[89,25,86,23],[89,29,86,27],[89,30,86,28,"isConnected"],[89,41,86,39],[89,43,86,41],[90,8,87,6],[90,12,87,10],[90,13,87,11,"socket"],[90,19,87,17],[90,20,87,18,"emit"],[90,24,87,22],[90,25,87,23],[90,38,87,36],[90,40,87,38],[91,10,87,40,"symbol"],[92,8,87,47],[92,9,87,48],[92,10,87,49],[93,6,88,4],[94,4,89,2],[95,4,91,2,"getConnectionStatus"],[95,23,91,21,"getConnectionStatus"],[95,24,91,21],[95,26,91,33],[96,6,92,4],[96,13,92,11],[96,17,92,15],[96,18,92,16,"isConnected"],[96,29,92,27],[97,4,93,2],[98,2,94,0],[99,2,96,0],[99,6,96,0,"_default"],[99,14,96,0],[99,17,96,15],[99,21,96,19,"WebSocketService"],[99,37,96,35],[99,38,96,36],[99,39,96,37],[100,0,96,38],[100,3]],"functionMap":{"names":["<global>","WebSocketService","WebSocketService#connect","socket.on$argument_1","WebSocketService#disconnect","WebSocketService#subscribe","WebSocketService#unsubscribe","WebSocketService#emit","callbacks.forEach$argument_0","WebSocketService#subscribeToSymbol","WebSocketService#unsubscribeFromSymbol","WebSocketService#getConnectionStatus"],"mappings":"AAA;ACI;ECK;8BCe;KDG;iCCE;KDG;4BCE;KDE;iCCG;KDE;oCCG;KDE;GDC;EGE;GHO;EIE;GJK;EKE;GLE;EME;wBCG,4BD;GNE;EQG;GRI;ESG;GTI;EUE;GVE;CDC"},"hasCjsExports":false},"type":"js/module"}]}
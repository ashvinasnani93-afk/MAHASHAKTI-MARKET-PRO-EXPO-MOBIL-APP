{"dependencies":[{"name":"socket.io-client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":46,"index":46}}],"key":"LVgCyxgUdze/lYG0kA6DdCAztfM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _socketIoClient = require(_dependencyMap[0], \"socket.io-client\");\n  const WS_URL = process.env.EXPO_PUBLIC_BACKEND_URL || 'https://your-backend-url.com';\n  class WebSocketService {\n    socket = null;\n    isConnected = false;\n    listeners = new Map();\n    connect() {\n      if (this.socket && this.isConnected) {\n        console.log('ðŸ”Œ WebSocket already connected');\n        return;\n      }\n      console.log('ðŸ”Œ Connecting to WebSocket...');\n      this.socket = (0, _socketIoClient.io)(WS_URL, {\n        transports: ['websocket'],\n        reconnection: true,\n        reconnectionDelay: 1000,\n        reconnectionAttempts: 5\n      });\n      this.socket.on('connect', () => {\n        console.log('âœ… WebSocket Connected');\n        this.isConnected = true;\n      });\n      this.socket.on('disconnect', () => {\n        console.log('âŒ WebSocket Disconnected');\n        this.isConnected = false;\n      });\n      this.socket.on('error', error => {\n        console.error('âŒ WebSocket Error:', error);\n      });\n\n      // Listen for LTP updates\n      this.socket.on('ltp_update', data => {\n        this.emit('ltp_update', data);\n      });\n\n      // Listen for scanner alerts\n      this.socket.on('scanner_alert', data => {\n        this.emit('scanner_alert', data);\n      });\n    }\n    disconnect() {\n      if (this.socket) {\n        this.socket.disconnect();\n        this.socket = null;\n        this.isConnected = false;\n        console.log('ðŸ”Œ WebSocket Disconnected');\n      }\n    }\n    subscribe(event, callback) {\n      if (!this.listeners.has(event)) {\n        this.listeners.set(event, new Set());\n      }\n      this.listeners.get(event)?.add(callback);\n    }\n    unsubscribe(event, callback) {\n      this.listeners.get(event)?.delete(callback);\n    }\n    emit(event, data) {\n      const callbacks = this.listeners.get(event);\n      if (callbacks) {\n        callbacks.forEach(callback => callback(data));\n      }\n    }\n\n    // Subscribe to symbol LTP\n    subscribeToSymbol(symbol) {\n      if (this.socket && this.isConnected) {\n        this.socket.emit('subscribe', {\n          symbol\n        });\n      }\n    }\n\n    // Unsubscribe from symbol\n    unsubscribeFromSymbol(symbol) {\n      if (this.socket && this.isConnected) {\n        this.socket.emit('unsubscribe', {\n          symbol\n        });\n      }\n    }\n    getConnectionStatus() {\n      return this.isConnected;\n    }\n  }\n  var _default = new WebSocketService();\n});","lineCount":99,"map":[[7,2,96,0,"Object"],[7,8,96,0],[7,9,96,0,"defineProperty"],[7,23,96,0],[7,24,96,0,"exports"],[7,31,96,0],[8,4,96,0,"enumerable"],[8,14,96,0],[9,4,96,0,"get"],[9,7,96,0],[9,18,96,0,"get"],[9,19,96,0],[10,6,96,0],[10,13,96,0,"_default"],[10,21,96,0],[11,4,96,0],[12,2,96,0],[13,2,1,0],[13,6,1,0,"_socketIoClient"],[13,21,1,0],[13,24,1,0,"require"],[13,31,1,0],[13,32,1,0,"_dependencyMap"],[13,46,1,0],[14,2,3,0],[14,8,3,6,"WS_URL"],[14,14,3,12],[14,17,3,15,"process"],[14,24,3,22],[14,25,3,23,"env"],[14,28,3,26],[14,29,3,27,"EXPO_PUBLIC_BACKEND_URL"],[14,52,3,50],[14,56,3,54],[14,86,3,84],[15,2,5,0],[15,8,5,6,"WebSocketService"],[15,24,5,22],[15,25,5,23],[16,4,6,10,"socket"],[16,10,6,16],[16,13,6,34],[16,17,6,38],[17,4,7,10,"isConnected"],[17,15,7,21],[17,18,7,33],[17,23,7,38],[18,4,8,10,"listeners"],[18,13,8,19],[18,16,8,61],[18,20,8,65,"Map"],[18,23,8,68],[18,24,8,69],[18,25,8,70],[19,4,10,2,"connect"],[19,11,10,9,"connect"],[19,12,10,9],[19,14,10,12],[20,6,11,4],[20,10,11,8],[20,14,11,12],[20,15,11,13,"socket"],[20,21,11,19],[20,25,11,23],[20,29,11,27],[20,30,11,28,"isConnected"],[20,41,11,39],[20,43,11,41],[21,8,12,6,"console"],[21,15,12,13],[21,16,12,14,"log"],[21,19,12,17],[21,20,12,18],[21,52,12,50],[21,53,12,51],[22,8,13,6],[23,6,14,4],[24,6,16,4,"console"],[24,13,16,11],[24,14,16,12,"log"],[24,17,16,15],[24,18,16,16],[24,49,16,47],[24,50,16,48],[25,6,18,4],[25,10,18,8],[25,11,18,9,"socket"],[25,17,18,15],[25,20,18,18],[25,24,18,18,"io"],[25,39,18,20],[25,40,18,20,"io"],[25,42,18,20],[25,44,18,21,"WS_URL"],[25,50,18,27],[25,52,18,29],[26,8,19,6,"transports"],[26,18,19,16],[26,20,19,18],[26,21,19,19],[26,32,19,30],[26,33,19,31],[27,8,20,6,"reconnection"],[27,20,20,18],[27,22,20,20],[27,26,20,24],[28,8,21,6,"reconnectionDelay"],[28,25,21,23],[28,27,21,25],[28,31,21,29],[29,8,22,6,"reconnectionAttempts"],[29,28,22,26],[29,30,22,28],[30,6,23,4],[30,7,23,5],[30,8,23,6],[31,6,25,4],[31,10,25,8],[31,11,25,9,"socket"],[31,17,25,15],[31,18,25,16,"on"],[31,20,25,18],[31,21,25,19],[31,30,25,28],[31,32,25,30],[31,38,25,36],[32,8,26,6,"console"],[32,15,26,13],[32,16,26,14,"log"],[32,19,26,17],[32,20,26,18],[32,43,26,41],[32,44,26,42],[33,8,27,6],[33,12,27,10],[33,13,27,11,"isConnected"],[33,24,27,22],[33,27,27,25],[33,31,27,29],[34,6,28,4],[34,7,28,5],[34,8,28,6],[35,6,30,4],[35,10,30,8],[35,11,30,9,"socket"],[35,17,30,15],[35,18,30,16,"on"],[35,20,30,18],[35,21,30,19],[35,33,30,31],[35,35,30,33],[35,41,30,39],[36,8,31,6,"console"],[36,15,31,13],[36,16,31,14,"log"],[36,19,31,17],[36,20,31,18],[36,46,31,44],[36,47,31,45],[37,8,32,6],[37,12,32,10],[37,13,32,11,"isConnected"],[37,24,32,22],[37,27,32,25],[37,32,32,30],[38,6,33,4],[38,7,33,5],[38,8,33,6],[39,6,35,4],[39,10,35,8],[39,11,35,9,"socket"],[39,17,35,15],[39,18,35,16,"on"],[39,20,35,18],[39,21,35,19],[39,28,35,26],[39,30,35,29,"error"],[39,35,35,34],[39,39,35,39],[40,8,36,6,"console"],[40,15,36,13],[40,16,36,14,"error"],[40,21,36,19],[40,22,36,20],[40,42,36,40],[40,44,36,42,"error"],[40,49,36,47],[40,50,36,48],[41,6,37,4],[41,7,37,5],[41,8,37,6],[43,6,39,4],[44,6,40,4],[44,10,40,8],[44,11,40,9,"socket"],[44,17,40,15],[44,18,40,16,"on"],[44,20,40,18],[44,21,40,19],[44,33,40,31],[44,35,40,34,"data"],[44,39,40,38],[44,43,40,43],[45,8,41,6],[45,12,41,10],[45,13,41,11,"emit"],[45,17,41,15],[45,18,41,16],[45,30,41,28],[45,32,41,30,"data"],[45,36,41,34],[45,37,41,35],[46,6,42,4],[46,7,42,5],[46,8,42,6],[48,6,44,4],[49,6,45,4],[49,10,45,8],[49,11,45,9,"socket"],[49,17,45,15],[49,18,45,16,"on"],[49,20,45,18],[49,21,45,19],[49,36,45,34],[49,38,45,37,"data"],[49,42,45,41],[49,46,45,46],[50,8,46,6],[50,12,46,10],[50,13,46,11,"emit"],[50,17,46,15],[50,18,46,16],[50,33,46,31],[50,35,46,33,"data"],[50,39,46,37],[50,40,46,38],[51,6,47,4],[51,7,47,5],[51,8,47,6],[52,4,48,2],[53,4,50,2,"disconnect"],[53,14,50,12,"disconnect"],[53,15,50,12],[53,17,50,15],[54,6,51,4],[54,10,51,8],[54,14,51,12],[54,15,51,13,"socket"],[54,21,51,19],[54,23,51,21],[55,8,52,6],[55,12,52,10],[55,13,52,11,"socket"],[55,19,52,17],[55,20,52,18,"disconnect"],[55,30,52,28],[55,31,52,29],[55,32,52,30],[56,8,53,6],[56,12,53,10],[56,13,53,11,"socket"],[56,19,53,17],[56,22,53,20],[56,26,53,24],[57,8,54,6],[57,12,54,10],[57,13,54,11,"isConnected"],[57,24,54,22],[57,27,54,25],[57,32,54,30],[58,8,55,6,"console"],[58,15,55,13],[58,16,55,14,"log"],[58,19,55,17],[58,20,55,18],[58,47,55,45],[58,48,55,46],[59,6,56,4],[60,4,57,2],[61,4,59,2,"subscribe"],[61,13,59,11,"subscribe"],[61,14,59,12,"event"],[61,19,59,25],[61,21,59,27,"callback"],[61,29,59,56],[61,31,59,58],[62,6,60,4],[62,10,60,8],[62,11,60,9],[62,15,60,13],[62,16,60,14,"listeners"],[62,25,60,23],[62,26,60,24,"has"],[62,29,60,27],[62,30,60,28,"event"],[62,35,60,33],[62,36,60,34],[62,38,60,36],[63,8,61,6],[63,12,61,10],[63,13,61,11,"listeners"],[63,22,61,20],[63,23,61,21,"set"],[63,26,61,24],[63,27,61,25,"event"],[63,32,61,30],[63,34,61,32],[63,38,61,36,"Set"],[63,41,61,39],[63,42,61,40],[63,43,61,41],[63,44,61,42],[64,6,62,4],[65,6,63,4],[65,10,63,8],[65,11,63,9,"listeners"],[65,20,63,18],[65,21,63,19,"get"],[65,24,63,22],[65,25,63,23,"event"],[65,30,63,28],[65,31,63,29],[65,33,63,31,"add"],[65,36,63,34],[65,37,63,35,"callback"],[65,45,63,43],[65,46,63,44],[66,4,64,2],[67,4,66,2,"unsubscribe"],[67,15,66,13,"unsubscribe"],[67,16,66,14,"event"],[67,21,66,27],[67,23,66,29,"callback"],[67,31,66,58],[67,33,66,60],[68,6,67,4],[68,10,67,8],[68,11,67,9,"listeners"],[68,20,67,18],[68,21,67,19,"get"],[68,24,67,22],[68,25,67,23,"event"],[68,30,67,28],[68,31,67,29],[68,33,67,31,"delete"],[68,39,67,37],[68,40,67,38,"callback"],[68,48,67,46],[68,49,67,47],[69,4,68,2],[70,4,70,10,"emit"],[70,8,70,14,"emit"],[70,9,70,15,"event"],[70,14,70,28],[70,16,70,30,"data"],[70,20,70,39],[70,22,70,41],[71,6,71,4],[71,12,71,10,"callbacks"],[71,21,71,19],[71,24,71,22],[71,28,71,26],[71,29,71,27,"listeners"],[71,38,71,36],[71,39,71,37,"get"],[71,42,71,40],[71,43,71,41,"event"],[71,48,71,46],[71,49,71,47],[72,6,72,4],[72,10,72,8,"callbacks"],[72,19,72,17],[72,21,72,19],[73,8,73,6,"callbacks"],[73,17,73,15],[73,18,73,16,"forEach"],[73,25,73,23],[73,26,73,25,"callback"],[73,34,73,33],[73,38,73,38,"callback"],[73,46,73,46],[73,47,73,47,"data"],[73,51,73,51],[73,52,73,52],[73,53,73,53],[74,6,74,4],[75,4,75,2],[77,4,77,2],[78,4,78,2,"subscribeToSymbol"],[78,21,78,19,"subscribeToSymbol"],[78,22,78,20,"symbol"],[78,28,78,34],[78,30,78,36],[79,6,79,4],[79,10,79,8],[79,14,79,12],[79,15,79,13,"socket"],[79,21,79,19],[79,25,79,23],[79,29,79,27],[79,30,79,28,"isConnected"],[79,41,79,39],[79,43,79,41],[80,8,80,6],[80,12,80,10],[80,13,80,11,"socket"],[80,19,80,17],[80,20,80,18,"emit"],[80,24,80,22],[80,25,80,23],[80,36,80,34],[80,38,80,36],[81,10,80,38,"symbol"],[82,8,80,45],[82,9,80,46],[82,10,80,47],[83,6,81,4],[84,4,82,2],[86,4,84,2],[87,4,85,2,"unsubscribeFromSymbol"],[87,25,85,23,"unsubscribeFromSymbol"],[87,26,85,24,"symbol"],[87,32,85,38],[87,34,85,40],[88,6,86,4],[88,10,86,8],[88,14,86,12],[88,15,86,13,"socket"],[88,21,86,19],[88,25,86,23],[88,29,86,27],[88,30,86,28,"isConnected"],[88,41,86,39],[88,43,86,41],[89,8,87,6],[89,12,87,10],[89,13,87,11,"socket"],[89,19,87,17],[89,20,87,18,"emit"],[89,24,87,22],[89,25,87,23],[89,38,87,36],[89,40,87,38],[90,10,87,40,"symbol"],[91,8,87,47],[91,9,87,48],[91,10,87,49],[92,6,88,4],[93,4,89,2],[94,4,91,2,"getConnectionStatus"],[94,23,91,21,"getConnectionStatus"],[94,24,91,21],[94,26,91,33],[95,6,92,4],[95,13,92,11],[95,17,92,15],[95,18,92,16,"isConnected"],[95,29,92,27],[96,4,93,2],[97,2,94,0],[98,2,96,0],[98,6,96,0,"_default"],[98,14,96,0],[98,17,96,15],[98,21,96,19,"WebSocketService"],[98,37,96,35],[98,38,96,36],[98,39,96,37],[99,0,96,38],[99,3]],"functionMap":{"names":["<global>","WebSocketService","WebSocketService#connect","socket.on$argument_1","WebSocketService#disconnect","WebSocketService#subscribe","WebSocketService#unsubscribe","WebSocketService#emit","callbacks.forEach$argument_0","WebSocketService#subscribeToSymbol","WebSocketService#unsubscribeFromSymbol","WebSocketService#getConnectionStatus"],"mappings":"AAA;ACI;ECK;8BCe;KDG;iCCE;KDG;4BCE;KDE;iCCG;KDE;oCCG;KDE;GDC;EGE;GHO;EIE;GJK;EKE;GLE;EME;wBCG,4BD;GNE;EQG;GRI;ESG;GTI;EUE;GVE;CDC"},"hasCjsExports":false},"type":"js/module"}]}